version: "3.8"
services:

  backend:
    build: docker/dev/backend
    ports:
      - "3000:3000"
    networks:
      - wichtelomat
    volumes: 
      - ./backend:/app
      - ./db-data:/db-data

  frontend:
    build: docker/dev/frontend
    ports:
      - "3001:3000"
    expose: 
      - "3000"
    networks:
      - wichtelomat
    volumes: 
      - ./frontend:/src

  mail:
    image: mailhog/mailhog:latest
    ports:
        - "8025:8025"
    networks:
        - wichtelomat

  sqlite:
    image: coleifer/sqlite-web
    ports:
        - "9000:8080"
    networks:
        - wichtelomat
    volumes:
      - ./db-data:/data
    environment: 
        - "SQLITE_DATABASE=wichtelomat.sqlite"

networks:
  wichtelomat:
